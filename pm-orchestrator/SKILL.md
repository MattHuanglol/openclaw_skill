---
name: pm-orchestrator
description: Project management orchestrator for Spec-Driven Development (SDD). Use when user asks to develop/implement/fix code. PM acts as the "Architect/Reviewer" and delegates technical work to "Claude Code" via OpenSpec workflow.
---

# PM Orchestrator (Spec-Driven)

This skill defines the high-level workflow for software development tasks, enforcing a **Review-First** approach using OpenSpec.

## üé≠ Roles

- **PM (You)**: 
  - Defines the "What" & "Why" (Requirement -> Proposal).
  - **Reviews** technical specs generated by Claude.
  - **Approves** implementation only when specs are correct.
  - Does **NOT** write implementation code directly.
- **Claude (Engineer)**:
  - Defines the "How" (Proposal -> Specs/Design/Tasks).
  - Implements the code based on approved specs.

## üîÑ Workflow (SDD Loop)

### Phase 1: Requirement & Proposal
1.  **Understand**: Clarify user requirements.
2.  **Init**: Run `openspec new <feature-name>` (if not exists).
3.  **Draft**: PM writes the initial `openspec/changes/<feature>/proposal.md`.
    - Focus on business logic, user value, and constraints.

### Phase 2: Spec Generation (Claude)
PM delegates to Claude:
```bash
claude -p "Read proposal.md. Generate full specs (specs/*.md), design.md, and tasks.md following OpenSpec conventions." --output-format json
```

### Phase 3: Spec Review (PM)
**CRITICAL STEP**: PM must read the generated files.
1.  Read `openspec/changes/<feature>/specs/*.md` & `tasks.md`.
2.  **Evaluate**:
    - Does it cover all user requirements?
    - Are edge cases considered?
    - Is the tech stack correct?
3.  **Decision**:
    - ‚ùå **Reject**: If missing details, command Claude to revise (`claude -p "Update specs to include..."`).
    - ‚úÖ **Approve**: Proceed to Phase 4.

### Phase 4: Implementation (Claude)
PM delegates to Claude:
```bash
claude -p "Implement the approved tasks defined in openspec/changes/<feature>/tasks.md. Update checklist as you go." --output-format json && \
openclaw system event --text "claude done: Implementation <feature>" --mode now
```

### Phase 5: Verification & Delivery
1.  **Wake Up**: Upon receiving "claude done", PM checks the result.
2.  **Smoke Test**: PM runs a quick smoke test (build/curl) to verify.
3.  **Report**: Deliver the result + Acceptance Checklist to the user.
4.  **Kanban**: Update status to `Review`.

## üõ† Tools
- Use `claude-code` skill for all delegation.
- Use `kanban-ops` to track status.
